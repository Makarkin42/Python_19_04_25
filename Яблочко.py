import telebot
from config import PROMO
from telebot.types import (Message, ReplyKeyboardMarkup)
import random

bot = telebot.TeleBot(PROMO)
res = ["ะฐะปะผะฐะท๐", "ัะฒะตัะฝะพะต ััะตะบะปััะบะพ", "ะดัะตะฒะฝัั ะฒะฐะทัโฑ", "ะทะพะปะพััั ะผะพะฝะตัะบั๐", "ัะตัะตะฑััะฝัั ะผะพะฝะตัะบั๐ฟ", "ะบะพััั๐ฆด",
       "ัะบัะฐัะตะฝะธะต ัะฐัะธัั๐", "ะดัะตะฒะฝัั ะบะธััั ะดะปั ัะพัะฟะธัะธ๐", "ะฟัััะพะน ะผะตัะพัะตะบ๐", "ะผะตัะพัะตะบ, ะทะฐะฟะพะปะฝะตะฝัะน ะผะพะฝะตัะฐะผะธ๐ฐ",
       "ะดัะตะฒะฝัั ัะบะฐััะปะบั๐", "ะณะปะธะฝัะฝัั ัะธะณััะบัโ", "ะณะธะณะฐะฝััะบะธะน ััะฝะดัะบ๐งฐ", "ะพะดะตะถะดั ะฟัะตะดะบะพะฒ๐" "ะฟะฐะปะบั๐ฆฏ",
       "ัะพะฟะฐะท", "ะฟะพะทะพะปะพัะตะฝัั ัะตะฟั", "ะพัะบะพะปะพะบ ะฟะปะธัั", "ะดัะฐะณะพัะตะฝะฝัั ัะตััะณั", "ะดัะตะฒะฝัะน ัะพะฟะพั๐ช", "ะดัะตะฒะฝะธะน ัะตัะฟ",
       "ะพัะบะพะปะพะบ ะฐะผะตัะธััะฐ", "ัะบะฐััะปะบั ั ััะฑะธะฝะฐะผะธ๐", "ะบะฐะผะตะฝะฝัะน ะผะพะปะพัโ", "ัะตะน-ัะพ ัะตัะตะฟ๐", "ะดัะตะฒะฝัั ะฟะปะธัั ั ัะธััะฝะบะฐะผะธ๐"]
promos = []


@bot.message_handler(commands=["start"])
def handler(message: Message):
    keyb = ReplyKeyboardMarkup(resize_keyboard=False, one_time_keyboard=False)
    keyb.row("๐ะะะะะขะฌโ")
    bot.send_message(chat_id=message.chat.id, reply_markup=keyb,
                     text="ะัะธะฒะตั๐\n\nะขั ะฟะพะฟะฐะป ะฝะฐ ัะบัะฟะตะดะธัะธั ะฟะพ ัะฐัะบะพะฟะบะฐะผ ะดัะตะฒะฝะตะณะพ ะณะพัะพะดะฐ, "
                          "ะณะดะต ะผะพะถะฝะพ ะฒัะบะพะฟะฐัั ัะตะฝะฝัะต ะฟัะตะดะผะตััโฑ\n\n"
                          "ะขะฐะบะถะต, ะผะตััะฝัะต ะณะพะฒะพััั, ััะพ ััั ะผะพะถะฝะพ ะฝะฐะนัะธ ัะตะบัะตัะฝัะน ะฟัะพะผะพะบะพะด ะดะปั "
                          "ะผะฐะณะฐะทะธะฝะฐ ะฏะฑะปะพัะบะพ, ะดะฐััะธะน ะพะณัะพะผะฝัั ัะบะธะดะบั๐ท\n\n"
                          "ะัะปะธ ัั ะณะพัะพะฒ - ัะพ ัะผะตะปะพ ะถะผะธ ะบะฝะพะฟะบั ๐ะะะะะขะฌโ!")


@bot.message_handler(content_types=["text"])
def mine(message: Message):
    if message.text == "๐ะะะะะขะฌโ":
        luck = random.random()
        if luck <= 0.05 and message.from_user.id not in promos:
            bot.send_message(chat_id=message.chat.id, message_effect_id="5046509860389126442",
                             text="ะะพะทะดัะฐะฒะปัั! ะขั ัะผะพะณ ะฒัะบะพะฟะฐัั ัะตะบัะตัะฝัะน ะฟัะพะผะพะบะพะด - Super_Promo2023")
            promos.append(message.from_user.id)
        else:
            miner = random.choice(res)
            bot.send_message(chat_id=message.chat.id, text=f"ะะณะพ!๐ฎ ะขั ะฒัะบะพะฟะฐะป {miner}!")
    else:
        bot.send_message(chat_id=message.chat.id, text="ะกะบะพัะตะต ะฝะฐะถะธะผะฐะน ะบะฝะพะฟะบั ๐ะะะะะขะฌ!โ")


bot.infinity_polling()
